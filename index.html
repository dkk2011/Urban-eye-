<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UrbanEye — Swipeable Dashboard (Mock Data)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root{$1 --accentHealth:#f87171; --accentEnergy:#f59e0b; --accentWater:#60a5fa; --accentWaste:#34d399; --bg1:#0a0e16; --bg2:#0c1320}
    body{background:linear-gradient(180deg,var(--bg1),var(--bg2))}
    .accent{color:var(--accent)}
    .tab.active{border-color:rgba(255,255,255,.2)}
    .viewport, .panel, .card, canvas{user-select:none; -webkit-user-select:none; -ms-user-select:none}
    canvas{pointer-events:auto}
    
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#0a0e16,#0c1320);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    .app{height:100%;display:flex;flex-direction:column}
    header{padding:16px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #111827;background:rgba(17,24,39,.6);backdrop-filter:blur(6px);position:sticky;top:0;z-index:10}
    .title{font-weight:700;letter-spacing:.5px}
    .pill{font-size:12px;color:#a7b0c0;border:1px solid #1f2937;border-radius:999px;padding:6px 10px;background:#0d1320}
    .viewport{position:relative;overflow:hidden;flex:1}
    .track{display:flex;height:100%;width:400%;transition:transform .45s cubic-bezier(.22,.61,.36,1)}
    .panel{width:100%;padding:16px;display:grid;grid-template-rows:auto auto 1fr;gap:14px}
    h2{margin:0;font-size:18px;letter-spacing:.4px}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .card{background:linear-gradient(180deg,#0d1626,#0b1321);border:1px solid var(--ring);border-radius:16px;padding:14px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .metric{display:flex;align-items:baseline;gap:8px}
    .metric .value{font-size:26px;font-weight:700}
    .metric .unit{font-size:12px;color:var(--muted)}
    .label{font-size:12px;color:#9aa3b2;text-transform:uppercase;letter-spacing:.18em;margin-bottom:8px}
    canvas{width:100%!important;height:260px!important}
    .subgrid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--ring);background:#0c1423;color:#aab3c2}
    .good{color:var(--good)} .warn{color:var(--warn)} .bad{color:var(--bad)}
    footer{display:flex;justify-content:center;gap:8px;padding:10px 0 14px}
    .dot{width:8px;height:8px;border-radius:50%;background:#263042;transition:all .25s}
    .dot.active{background:var(--accent);transform:scale(1.2)}
    .tabs{display:flex;gap:8px}
    .tab{font-size:12px;padding:8px 10px;border-radius:12px;border:1px solid var(--ring);color:#c8d1df;background:#0b1321}
    .muted{color:var(--muted)}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .kpi{flex:1 1 130px}
    .hero{display:flex;justify-content:space-between;align-items:center}
  </style>
</head>
<body>
  <div class="app" id="app">
    <header>
      <div class="brand" style="display:flex;align-items:center;gap:10px">
        <img class="logo" alt="UrbanEye logo" style="width:36px;height:36px;border-radius:10px;border:1px solid #1f2937;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,.25)" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAQAElEQVR4AYz8i2Iju45ECwZ8//+Py+KsFWBK8j59Z4YbBAOBB0aS8xP5r1b0o0l2HfX9nY6b7M/6m...">
        <div class="title">UrbanEye</div>
      </div>
      <div class="tabs">
        <div class="tab">Health</div>
        <div class="tab">Energy</div>
        <div class="tab">Water</div>
        <div class="tab">Waste</div>
      </div>
      <div class="pill">Swipe ◀ ▶ or use ← →</div>
    </header>

    <div class="viewport" id="viewport" tabindex="0">
      <div class="track" id="track">
        <!-- HEALTH -->
        <section class="panel" data-name="Health">
          <div class="hero">
            <h2>Health Overview</h2>
            <span class="badge">Mock Data</span>
          </div>
          <div class="grid">
            <div class="card kpi">
              <div class="label">AQI</div>
              <div class="metric"><span class="value bad" id="aqiVal">162</span><span class="unit">US AQI</span></div>
              <div class="muted">Status: Unhealthy</div>
            </div>
            <div class="card kpi">
              <div class="label">Health Score</div>
              <div class="metric"><span class="value good" id="healthScore">82</span><span class="unit">/ 100</span></div>
              <div class="muted">↑ +3 vs last week</div>
            </div>
            <div class="card kpi">
              <div class="label">Water Quality Index</div>
              <div class="metric"><span class="value warn" id="wqi">74</span><span class="unit">/ 100</span></div>
              <div class="muted">Stable</div>
            </div>
            <div class="card kpi">
              <div class="label">Noise (Leq)</div>
              <div class="metric"><span class="value" id="noise">58</span><span class="unit"> dB</span></div>
              <div class="muted">Acceptable</div>
            </div>
          </div>
          <div class="card">
            <div class="label">Daily AQI Trend</div>
            <canvas id="chartHealth"></canvas>
          </div>
          <div class="row">
            <div class="badge">PM2.5: 42 µg/m³</div>
            <div class="badge">PM10: 70 µg/m³</div>
            <div class="badge">NO₂: 29 ppb</div>
            <div class="badge">O₃: 18 ppb</div>
          </div>
        </section>

        <!-- ENERGY -->
        <section class="panel" data-name="Energy">
          <div class="hero">
            <h2>Energy</h2>
            <span class="badge">Mock Data</span>
          </div>
          <div class="grid">
            <div class="card kpi">
              <div class="label">Usage (Today)</div>
              <div class="metric"><span class="value" id="energyToday">128</span><span class="unit"> kWh</span></div>
              <div class="muted">↓ −6% vs yesterday</div>
            </div>
            <div class="card kpi">
              <div class="label">Peak Demand</div>
              <div class="metric"><span class="value warn" id="peak">22.4</span><span class="unit"> kW</span></div>
              <div class="muted">3–4 PM</div>
            </div>
            <div class="card kpi">
              <div class="label">Renewables Share</div>
              <div class="metric"><span class="value good" id="reShare">46</span><span class="unit">%</span></div>
              <div class="muted">Solar + Wind</div>
            </div>
            <div class="card kpi">
              <div class="label">CO₂ Intensity</div>
              <div class="metric"><span class="value" id="co2">412</span><span class="unit"> g/kWh</span></div>
              <div class="muted">Medium</div>
            </div>
          </div>
          <div class="card">
            <div class="label">24h Energy Usage</div>
            <canvas id="chartEnergy"></canvas>
          </div>
        </section>

        <!-- WATER -->
        <section class="panel" data-name="Water">
          <div class="hero">
            <h2>Water</h2>
            <span class="badge">Mock Data</span>
          </div>
          <div class="grid">
            <div class="card kpi">
              <div class="label">Usage (Today)</div>
              <div class="metric"><span class="value" id="waterUse">2.8</span><span class="unit"> kL</span></div>
              <div class="muted">↑ +9% vs yesterday</div>
            </div>
            <div class="card kpi">
              <div class="label">Quality (WQI)</div>
              <div class="metric"><span class="value good" id="waterWqi">88</span><span class="unit"> / 100</span></div>
              <div class="muted">Good</div>
            </div>
            <div class="card kpi">
              <div class="label">Leaks Detected</div>
              <div class="metric"><span class="value bad" id="leaks">1</span><span class="unit"> active</span></div>
              <div class="muted">Pipe A2</div>
            </div>
            <div class="card kpi">
              <div class="label">Pressure</div>
              <div class="metric"><span class="value" id="pressure">2.9</span><span class="unit"> bar</span></div>
              <div class="muted">Stable</div>
            </div>
          </div>
          <div class="card">
            <div class="label">Weekly Water Usage</div>
            <canvas id="chartWater"></canvas>
          </div>
        </section>

        <!-- WASTE -->
        <section class="panel" data-name="Waste">
          <div class="hero">
            <h2>Waste</h2>
            <span class="badge">Mock Data</span>
          </div>
          <div class="grid">
            <div class="card kpi">
              <div class="label">Total (Today)</div>
              <div class="metric"><span class="value" id="wasteToday">182</span><span class="unit"> kg</span></div>
              <div class="muted">↑ +4% vs avg</div>
            </div>
            <div class="card kpi">
              <div class="label">Recycling Rate</div>
              <div class="metric"><span class="value good" id="recycle">38</span><span class="unit"> %</span></div>
              <div class="muted">Target 45%</div>
            </div>
            <div class="card kpi">
              <div class="label">Bins Full</div>
              <div class="metric"><span class="value bad" id="binsFull">3</span><span class="unit"> / 24</span></div>
              <div class="muted">See live status</div>
            </div>
            <div class="card kpi">
              <div class="label">Collection ETA</div>
              <div class="metric"><span class="value" id="eta">14:40</span><span class="unit"> IST</span></div>
              <div class="muted">Route B</div>
            </div>
          </div>
          <div class="card">
            <div class="label">Waste Pattern (7 days)</div>
            <canvas id="chartWaste"></canvas>
          </div>
          <div class="subgrid">
            <div class="card">
              <div class="label">Live Bin Status</div>
              <div class="row" id="binsRow"></div>
            </div>
            <div class="card">
              <div class="label">Top Sources</div>
              <div class="badge">Cafeteria 34%</div>
              <div class="badge">Hostel 27%</div>
              <div class="badge">Workshops 21%</div>
              <div class="badge">Grounds 18%</div>
            </div>
            <div class="card">
              <div class="label">Alerts</div>
              <div class="muted">Bin #07 at 82% (north gate)</div>
              <div class="muted">Bin #13 contamination suspected</div>
            </div>
          </div>
        </section>

      </div>
    </div>

    <footer>
      <div class="dot" data-dot="0"></div>
      <div class="dot" data-dot="1"></div>
      <div class="dot" data-dot="2"></div>
      <div class="dot" data-dot="3"></div>
    </footer>
    <button id="navLeft" aria-label="Previous" style="position:fixed;left:14px;bottom:70px;z-index:20;background:#0b1321;border:1px solid #1f2937;border-radius:999px;padding:10px 14px;color:#e5e7eb;box-shadow:0 8px 24px rgba(0,0,0,.35)">◀</button>
    <button id="navRight" aria-label="Next" style="position:fixed;right:14px;bottom:70px;z-index:20;background:#0b1321;border:1px solid #1f2937;border-radius:999px;padding:10px 14px;color:#e5e7eb;box-shadow:0 8px 24px rgba(0,0,0,.35)">▶</button>
  </div>

  <script>
    // Embed logo as Data URL so the app works as a single file.
    const LOGO = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAQAElEQVR4AYz8i2Iju45ECwZ8//+Py+KsFWBK8j59Z4YbBAOBB0aS8xP5r1b0o0l2HfX9nY6b7M/6m...";
    // --- Simple swipeable panels (looping) ---
    const track = document.getElementById('track');
    const dots = Array.from(document.querySelectorAll('.dot'));
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panels = Array.from(document.querySelectorAll('.panel'));

    const THEMES = [
      {name:'Health', accent:getComputedStyle(document.documentElement).getPropertyValue('--accentHealth').trim(), bg1:'#140b0b', bg2:'#120c10'},
      {name:'Energy', accent:getComputedStyle(document.documentElement).getPropertyValue('--accentEnergy').trim(), bg1:'#130f08', bg2:'#12100b'},
      {name:'Water',  accent:getComputedStyle(document.documentElement).getPropertyValue('--accentWater').trim(),  bg1:'#0a1018', bg2:'#0a1420'},
      {name:'Waste',  accent:getComputedStyle(document.documentElement).getPropertyValue('--accentWaste').trim(),  bg1:'#0b120d', bg2:'#0b1610'}
    ];

    let index = 0; // 0..3
    function render(){
      track.style.transform = `translateX(${-100*index}%)`;
      dots.forEach((d,i)=>d.classList.toggle('active', i===index));
      tabs.forEach((t,i)=>{
        const on = i===index; t.classList.toggle('active', on);
        t.style.background = on? '#0e1a2d' : '#0b1321';
        t.style.borderColor = on? '#2a3a55' : '#1f2937';
        t.style.color = on? '#e5e7eb' : '#c8d1df';
      });
      const theme = THEMES[index];
      document.title = `UrbanEye — ${panels[index].dataset.name}`;
      document.documentElement.style.setProperty('--accent', theme.accent);
      document.documentElement.style.setProperty('--bg1', theme.bg1);
      document.documentElement.style.setProperty('--bg2', theme.bg2);
    }%)`;
      dots.forEach((d,i)=>d.classList.toggle('active', i===index));
      tabs.forEach((t,i)=>{
        t.style.background = i===index? '#0e1a2d' : '#0b1321';
        t.style.borderColor = i===index? '#2a3a55' : '#1f2937';
        t.style.color = i===index? '#e5e7eb' : '#c8d1df';
      });
      document.title = `UrbanEye — ${panels[index].dataset.name}`;
    }
    render();

    function go(dir){ // dir = +1 / -1
      index = (index + dir + 4) % 4; render();
    }

    // Keyboard
    window.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowRight'){ e.preventDefault(); go(+1); }
      if(e.key==='ArrowLeft'){ e.preventDefault(); go(-1); }
    });
      if(e.key==='ArrowLeft') go(-1);
    });

    // Click tabs/dots
    tabs.forEach((t,i)=>t.addEventListener('click', ()=>{index=i;render();}));
    document.getElementById('navLeft').addEventListener('click',()=>go(-1));
    document.getElementById('navRight').addEventListener('click',()=>go(+1));
    // set logo source
    try{ document.querySelector('.logo').src = LOGO; }catch(_){}
    dots.forEach((d,i)=>d.addEventListener('click', ()=>{index=i;render();}));

    // Touch + Mouse swipe
    let x0=null; const threshold=40; // px
    viewport.addEventListener('pointerdown', e=>{ x0=e.clientX; });
    viewport.addEventListener('pointerup', e=>{
      if(x0===null) return; const dx = e.clientX - x0; x0=null; if(Math.abs(dx)>threshold) go(dx<0?+1:-1);
    });
    viewport.addEventListener('pointerleave', ()=>{ x0=null; });

    // Touch fallback (some browsers still fire separate touch events)
    viewport.addEventListener('touchstart', e=>{ x0=e.touches[0].clientX }, {passive:true});
    viewport.addEventListener('touchend', e=>{ if(x0===null) return; const dx=e.changedTouches[0].clientX-x0; x0=null; if(Math.abs(dx)>threshold) go(dx<0?+1:-1); }, {passive:true});

    // Wheel (trackpads): swipe horizontally or shift+scroll
    let wheelLock = false;
    viewport.addEventListener('wheel', (e)=>{
      const dx = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : (e.shiftKey ? e.deltaY : 0);
      if(!wheelLock && Math.abs(dx) > 20){
        go(dx>0?+1:-1);
        wheelLock = true; setTimeout(()=>wheelLock=false, 400);
      }
    }, {passive:true});

    // --- Mock charts ---
    const ctxH = document.getElementById('chartHealth');
    new Chart(ctxH,{type:'line',data:{
      labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
      datasets:[{label:'AQI',data:[132,118,141,155,162,149,138], tension:.35, borderColor:getComputedStyle(document.documentElement).getPropertyValue('--accentHealth').trim(), backgroundColor:'rgba(248,113,113,.12)', fill:true}]
    },options:{responsive:true,plugins:{legend:{display:false}}});

    const ctxE = document.getElementById('chartEnergy');
    new Chart(ctxE,{type:'bar',data:{
      labels:[...'0123456789abcdef'.toUpperCase()].slice(0,24).map((_,i)=>`${String(i).padStart(2,'0')}:00`),
      datasets:[{label:'kWh',data:Array.from({length:24},(_,i)=> (Math.sin((i-8)/3)*8+14 + (i===15?6:0)).toFixed(1)), backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--accentEnergy').trim()}]
    },options:{responsive:true,plugins:{legend:{display:false}}});

    const ctxW = document.getElementById('chartWater');
    new Chart(ctxW,{type:'line',data:{
      labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
      datasets:[{label:'kL',data:[2.4,2.1,2.6,2.2,2.7,3.1,2.8],tension:.35, borderColor:getComputedStyle(document.documentElement).getPropertyValue('--accentWater').trim(), backgroundColor:'rgba(96,165,250,.12)', fill:true}]
    },options:{responsive:true,plugins:{legend:{display:false}}});

    const ctxWa = document.getElementById('chartWaste');
    new Chart(ctxWa,{type:'bar',data:{
      labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
      datasets:[{label:'kg',data:[170,162,175,168,182,196,188], backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--accentWaste').trim()}]
    },options:{responsive:true,plugins:{legend:{display:false}}});

    // Live bin status mock
    const binsRow = document.getElementById('binsRow');
    const bins = Array.from({length:12},(_,i)=>({id:i+1,fill: Math.floor(20+Math.random()*75)}));
    bins.forEach(b=>{
      const el = document.createElement('div');
      el.className='badge';
      const color = b.fill>80?'bad':(b.fill>60?'warn':'good');
      el.innerHTML = `Bin #${String(b.id).padStart(2,'0')} — <span class="${color}">${b.fill}%</span>`;
      binsRow.appendChild(el);
    });

    // Small demo: randomize numbers every 6s (still mock)
    function jitter(id, base, spread){
      const el = document.getElementById(id);
      const val = (base + (Math.random()*spread - spread/2));
      el.textContent = (id==='aqiVal' || id==='binsFull') ? Math.round(Math.abs(val)) : (Math.round(val*10)/10);
    }
    setInterval(()=>{
      jitter('aqiVal',160,12); jitter('healthScore',82,2); jitter('wqi',74,2);
      jitter('noise',58,3); jitter('energyToday',128,6); jitter('peak',22,2);
      jitter('reShare',46,3); jitter('co2',412,18); jitter('waterUse',2.8,0.3);
      jitter('waterWqi',88,2); jitter('leaks',1,1); jitter('pressure',2.9,0.2);
      jitter('wasteToday',182,12); jitter('recycle',38,2); jitter('binsFull',3,2);
    },6000);
  
    <script>const LOGO='urbaneye-logo.png'; try{document.querySelector('.logo').src=LOGO;}catch(e){}</script>
  </script>
</body>
</html>
